If bids and transaction bundles are transmitted in clear text over the peer-to-peer (P2P) network, it could allow competing bidders and providers to observe and adjust their strategies based on the visible bids. This visibility potentially harms the expected utility of bidders, as their competitors could outbid them by adjusting their bids accordingly. Moreover, the premature revelation of a providerâ€™s commitment to a bid could lead to information leakage about the total value of the block being constructed. This not only affects the privacy of the providers but also skews the competitive landscape, enabling providers to underbid based on the leaked value information.
To counteract these privacy issues mev-commit provides end-to-end privacy for all bids and commitments in the sense that until commitments are opened after the corresponding L1 block have been confirmed, the contents of the commitment and the corresponding bid are only visible to the bidder who made the bid and the provider who made the commitment. All other bidders and providers and external parties learn nothing except that this provider has made a commitment. Moreover, it is crucial that commitments to bids are binding to the specific bid and that it hides its contents until the opening of the commitment. 

The security and privacy of mev-commit is achieved by combining two novel cryptographic primitives, anonymous receiver-updatable broadcast encryption (ARUBE), and dual-phase commitments (DPCOM). The former is used to efficiently and disseminate bids from bidders to providers of their choice in a privacy-preserving manner, and the latter is used to securely commit to those bids and later allow for the opening of such commitments. Below we expand on the specific security and privacy notions achieved for the bidders and the providers along with a short description of the corresponding cryptographic primitive used for each.

## Bidders
Each bidder can choose a group of providers who will have access to their bids. The bids are then encrypted and sent to this specific group of providers. Other bidders and providers remain unaware of the details of a bid and its designated receivers. Furthermore, even after a provider commits to a bid, the bidder's privacy is preserved, as the commitment reveals no information about the bid to third parties. The cryptographic primitve that mev-commit leverages to achieve this privacy notion in an efficient way is called ARUBE.

### Anonymous Receiver-Updatable Broadcast Encryption (ARUBE)

ARUBE is the primitive that allows bidders in the mev-commit protocol to privately send bids to a subset of the providers without revealing what this subset is. This functionality is commonly provided by anonymous broadcast encryption [[BBW06]](https://www.cs.utexas.edu/~bwaters/publications/papers/privatebe.pdf). A feature of broadcast encryption is that a new set of recipients can be specified for each message that is encrypted. In our use-case, the set of recipients for a given bidder typically remains stable since bidders mostly send their bids to the set of providers they work with and only occasionally add or remove a provider from that set. To be able to leverage this for more efficient schemes, we refine the notion of broadcast encryption by adding an algorithm for updating the set of recipients, while the encryption algorithm encrypts a message for a previously determined recipient set. We call this notion anonymous receiver-updatable broadcast encryption (ARUBE).


## Providers

A provider who receives a bid can make a commitment to it, which they also sign for authentication. The signed commitment binds the provider to the bid. Furthermore, the process is executed in such a way that only the bidder who issued the bid can identify a commitment as being related to their bid. This approach ensures a high level of privacy for the providers, as the commitments they issue are not associated with a specific bid throughout the auction round. Moreover, if the provider refuses to open a commtiment at the end of the round, the bidder can independently open the commitment without needing assistance from the provider. This functionality is provided by the novel notion of dual-phase commitments.

### Dual-Phase Commitment (DPCOM)

DPCOM is a two-party commitment protocol that allows a message to be committed in two distinct phases. In the first phase, a party precommits to a message and receives both a precommitment and an opening key. In the second phase, the party commits to the precommitment generated in the first phase, receiving decommitment information as the output.
A key feature of a dual-phase commitment scheme is its flexibility in opening the resulting commitment using either the opening key or the decommitment information. This flexibility enables the receiver to generate a precommitment to a message of their choice, after which the committer commits to that precommitment. This process ensures that both parties can open the commitment: the receiver obtains the opening key when generating the precommitment, and the committer obtains the decommitment information when committing to the precommitment. Consequently, both parties can later prove the content of the committed message to third parties.

This is especially useful in the context of the mev-commit protocol, where the sender is a provider and the receiver is a bidder. The dual-phase commitment scheme allows the provider to commit to a bid posted by the bidder and subsequently reveal the commitment. Crucially, if the provider misbehaves and refuses to publicly open the commitment, the bidder can independently open it without needing assistance from the provider.


