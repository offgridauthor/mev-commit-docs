---
title: Validator Guide
sidebarTitle: Validators
description: 'Opt into mev-commit with ease. This guide covers everything you need to do to passively interact with the mev-commit protocol as a validator.'
icon: 'list-check'
---

### Opting-in as a Validator

L1 validator participation in the mev-commit protocol adds ultimate credibility to commitments and enforces their delivery. This guide walks through the process of opting-in to the mev-commit testnet as a Holesky validator. A restaking version will also be enabled in the future through Eigenlayer.

**Prerequisites:**

1. An operational Holesky validator node. 
2. An operational mev-boost sidecar or equivalent.
3. Associated validator key(s).

## Requirements

By opting-in to the mev-commit protocol as a Holesky validator, you agree to the following:

* Your mev-boost client should ONLY connect to mev-commit opted in relays to avoid being slashed by proposing a block that doesn't deliver commitments. The Titan Holesky relay is the only such relay at this time, see [the Titan Holesky Relay](https://docs.titanrelay.xyz/).
* 3 ETH must be staked with the registry contract on the mev-commit chain for the validator account, which you can obtain from our [faucet](http://faucet.testnet.mev-commit.xyz/) for the testnet. See below for further instructions.

## Staking with registry

To stake with the mev-commit validator registry, first use our [faucet page](http://faucet.testnet.mev-commit.xyz/) to obtain some ether on the mev-commit chain.

Once you've obtained ether on the mev-commit chain, you can stake it with the [validator registry contract](http://explorer.testnet.mev-commit.xyz/address/0xAd291fcfDBA7c9c5545af35Ca52edDe6cBdF92e5).

The registry strictly accepts BLS public keys as the validator opt-in identifier. Any EOA can stake on behalf of a validator pub key, and only that EOA has the ability to withdraw in the future.

To `stake` with the contract, see the following function signature, where ether sent with the transaction is split evenly among the specified validator accounts:

```solidity
function stake(bytes[] calldata validatorBLSPubKeys) external payable {
    uint256 splitAmount = msg.value / validatorBLSPubKeys.length;
    for (uint256 i = 0; i < validatorBLSPubKeys.length; i++) {
        stakedBalances[validatorBLSPubKeys[i]] += splitAmount;
    }
}
```

The validator registry contract is deployed to the mev-commit chain at address `0xAd291fcfDBA7c9c5545af35Ca52edDe6cBdF92e5`, with a minimum stake requirement of 3 ether, and a 64 block unstaking period.

### Forge scripting

We're working on a UI for the validator registry for convenience. In the meantime you can programmatically interact with the registry via [forge script](https://book.getfoundry.sh/reference/forge/forge-script).

For example, to stake and immediately unstake for a few validators:

```solidity
pragma solidity ^0.8.15;

import "forge-std/Script.sol";
import "forge-std/console.sol";
import "../contracts/ValidatorRegistry.sol";

contract StakeAndUnstakeExample is Script {
    ValidatorRegistry private _validatorRegistry = ValidatorRegistry(0xAd291fcfDBA7c9c5545af35Ca52edDe6cBdF92e5);

    function run() external {
        vm.startBroadcast();

        bytes[] memory validators = new bytes[](3);
        validators[0] = hex"a97794deb52ea4529d37d283213ca7e298ea9be0a2fec1bb3134a1464ab8cf9eb2c703d1b42dd68d97b5f1c8e74cc0df";
        validators[1] = hex"96db1884af7bf7a1b57c77222723286a8ce3ef9a16ab6c5542ec5160662d450a1b396b22fc519679adae6ad741547268";
        validators[2] = hex"a840634f574c20e9a35ff80be19309dfd3ace623a093f114e7f44555e3035725b4d1d59b3ce0b2f169871fbe7abc448a";

        uint256 totalAmount = 10 ether;
        _validatorRegistry.stake{value: totalAmount}(validators);

        _validatorRegistry.unstake(validators);

        vm.stopBroadcast();
    }
}
```

Invocation of the contract from the script would look like:

```bash
forge script "scripts/ScriptName.s.sol:SplitStake" \
    --rpc-url "https://chainrpc.testnet.mev-commit.xyz" \
    --private-key $PRIVATE_KEY \
    --broadcast \
    --chain-id 17864 \
    -vvvv \
    --use 0.8.23 \
    --via-ir \
    --priority-gas-price 2000000000 \
    --with-gas-price 5000000000
```

where gas params can be adjusted as desired.

### Go bindings for the registry

Golang contract bindings for the validator registry contract are also available to programmatically interact with the registry. See [contracts-abi](https://github.com/primevprotocol/contracts-abi) repo.

## Withdrawing staked ether

If you wish to withdraw your staked ether, you can do so via the previously mentioned validator registry page, or using a forge script. Note an unstaking period is enforced, meaning you must first submit an `unstake` transaction, wait an appropriate amount of blocks, then submit a `withdraw` transaction, transferring funds to your account.
